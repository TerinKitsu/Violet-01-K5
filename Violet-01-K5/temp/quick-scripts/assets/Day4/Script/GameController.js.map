{"version":3,"sources":["GameController.js"],"names":["cc","Class","extends","Component","properties","totalScoreLb","Label","timeLb","resultPage","Node","finalScoreLb","pausePanel","isPaused","onLoad","active","total","time","isGameOver","start","string","countTime","isGameOverReturn","sumScore","score","scheduleOnce","gameOverUI","onRestartGame","director","loadScene","onResumeGame","onPauseGame","pause","resume"],"mappings":";;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,sBAAcL,GAAGM,KADT;AAERC,gBAAQP,GAAGM,KAFH;AAGRE,oBAAYR,GAAGS,IAHP;AAIRC,sBAAcV,GAAGM,KAJT;AAKRK,oBAAYX,GAAGS,IALP;;AAORG,kBAAU;AAPF,KAHP;;AAaLC,UAbK,oBAaK;AACN,aAAKL,UAAL,CAAgBM,MAAhB,GAAyB,KAAzB;AACA,aAAKC,KAAL,GAAa,CAAb;AACA,aAAKC,IAAL,GAAY,EAAZ;AACA,aAAKC,UAAL,GAAkB,KAAlB;AACH,KAlBI;AAoBLC,SApBK,mBAoBE;AACH,aAAKX,MAAL,CAAYY,MAAZ,GAAqB,YAAY,KAAKH,IAAtC;AACA,aAAKI,SAAL;AACH,KAvBI;AAyBLC,oBAzBK,8BAyBa;AACd,eAAO,KAAKJ,UAAZ;AACH,KA3BI;AA6BLK,YA7BK,oBA6BIC,KA7BJ,EA6BU;AACX,aAAKR,KAAL,IAAcQ,KAAd;AACA,aAAKlB,YAAL,CAAkBc,MAAlB,GAA2B,YAAY,KAAKJ,KAA5C;AACH,KAhCI;AAkCLK,aAlCK,uBAkCM;AAAA;;AACP,aAAKI,YAAL,CAAkB,YAAK;AACnB,gBAAG,MAAKR,IAAL,IAAa,CAAhB,EAAkB;AACd,sBAAKC,UAAL,GAAkB,IAAlB;AACA,sBAAKQ,UAAL;AACA;AACH;AACD,kBAAKT,IAAL;AACA,kBAAKT,MAAL,CAAYY,MAAZ,GAAqB,YAAY,MAAKH,IAAtC;AACA,kBAAKI,SAAL;AACH,SATD,EASG,CATH;AAUH,KA7CI;AA+CLK,cA/CK,wBA+CO;AACR,aAAKf,YAAL,CAAkBS,MAAlB,GAA2B,KAAKd,YAAL,CAAkBc,MAA7C;AACA,aAAKX,UAAL,CAAgBM,MAAhB,GAAyB,IAAzB;AACH,KAlDI;AAoDLY,iBApDK,2BAoDU;AACX1B,WAAG2B,QAAH,CAAYC,SAAZ,CAAsB,OAAtB;AACA,aAAKC,YAAL;AACH,KAvDI;AAyDLC,eAzDK,yBAyDQ;AACT,aAAKlB,QAAL,GAAgB,CAAC,KAAKA,QAAtB;AACA,aAAKD,UAAL,CAAgBG,MAAhB,GAAyB,KAAKF,QAA9B;AACA,YAAG,KAAKA,QAAR,EACIZ,GAAG2B,QAAH,CAAYI,KAAZ,GADJ,KAGI,KAAKF,YAAL;AACP,KAhEI;AAkELA,gBAlEK,0BAkES;AACV,YAAG,KAAKjB,QAAR,EAAiB;AACb,iBAAKA,QAAL,GAAgB,CAAC,KAAKA,QAAtB;AACA,iBAAKD,UAAL,CAAgBG,MAAhB,GAAyB,KAAKF,QAA9B;AACH;AACDZ,WAAG2B,QAAH,CAAYK,MAAZ;AACH;AAxEI,CAAT","file":"GameController.js","sourceRoot":"../../../../../assets/Day4/Script","sourcesContent":["\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        totalScoreLb: cc.Label,\n        timeLb: cc.Label,\n        resultPage: cc.Node,\n        finalScoreLb: cc.Label,\n        pausePanel: cc.Node,\n\n        isPaused: false,\n    },\n\n    onLoad () {\n        this.resultPage.active = false;\n        this.total = 0;\n        this.time = 60;\n        this.isGameOver = false;\n    },\n\n    start(){\n        this.timeLb.string = \"Time \\n\" + this.time;\n        this.countTime();\n    },\n\n    isGameOverReturn(){\n        return this.isGameOver;\n    },\n\n    sumScore(score){\n        this.total += score;\n        this.totalScoreLb.string = \"Score: \" + this.total;\n    },\n\n    countTime(){\n        this.scheduleOnce(() =>{\n            if(this.time <= 0){\n                this.isGameOver = true;\n                this.gameOverUI();\n                return\n            }\n            this.time --;\n            this.timeLb.string = \"Time \\n\" + this.time;\n            this.countTime();\n        }, 1)\n    },\n\n    gameOverUI(){\n        this.finalScoreLb.string = this.totalScoreLb.string;\n        this.resultPage.active = true;\n    },\n\n    onRestartGame(){\n        cc.director.loadScene(\"D4_B1\");\n        this.onResumeGame();\n    },\n\n    onPauseGame(){\n        this.isPaused = !this.isPaused;\n        this.pausePanel.active = this.isPaused;\n        if(this.isPaused)\n            cc.director.pause();\n        else\n            this.onResumeGame();\n    },\n\n    onResumeGame(){\n        if(this.isPaused){\n            this.isPaused = !this.isPaused;\n            this.pausePanel.active = this.isPaused;\n        }\n        cc.director.resume();\n    }\n});\n"]}